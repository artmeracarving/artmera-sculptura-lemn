<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Great+Vibes&family=Parisienne&family=Poppins:wght@300;400&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <title>Creator FelicitƒÉri ArtMera ‚ù§Ô∏è</title>
    <style>
        :root {
            --bg-dark: #1E1E1E;
            --text-light: #EAEAEA;
            --accent: #4A90E2;
            --border: #333333;
            --pink: #ff4d6d;
        }

        body {
            background: var(--bg-dark);
            font-family: 'Montserrat', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
            margin: 0;
            color: var(--text-light);
        }

        #site-header { 
            text-align: center; 
            margin-bottom: 25px; 
        }

        #site-header h1 { 
            font-size: 1.8rem; 
            color: var(--accent); 
            margin-bottom: 5px; 
        }

        .promo-text { 
            font-size: 0.9rem; 
            opacity: 0.8; 
            margin-bottom: 10px; 
        }

        .promo-link { 
            color: var(--accent); 
            font-weight: bold; 
            text-decoration: none; 
            border-bottom: 1px solid; 
        }

        .config-panel {
            background: #222;
            padding: 25px;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
            margin-bottom: 30px;
            max-width: 450px;
            width: 100%;
            border: 1px solid var(--border);
        }

        .input-group { 
            margin-bottom: 15px; 
        }

        .input-group label { 
            font-weight: 600; 
            color: var(--accent); 
            display: block; 
            margin-bottom: 6px; 
            font-size: 0.9rem; 
        }

        input[type="text"], input[type="file"], select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 10px;
            background: #111;
            color: var(--text-light);
            box-sizing: border-box;
            font-family: inherit;
        }

        .select-wrapper { 
            position: relative; 
        }

        .select-icon { 
            position: absolute; 
            left: 12px; 
            top: 50%; 
            transform: translateY(-50%); 
            z-index: 1; 
        }

        #auto-messages { 
            padding-left: 35px; 
            margin-bottom: 8px; 
        }

        #printable-card {
            width: 380px;
            min-height: 440px;
            background: #111;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.6);
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 2px solid var(--accent);
            background: var(--bg, #111);
            color: var(--text, var(--text-light));
            transition: all 0.3s ease;
            text-align: center;
        }

        #printable-card.theme-romantic { 
            --bg: #ffe6ea; 
            --text: #7a1f2a; 
            --accent: #ff4d6d; 
        }

        #printable-card.theme-cute { 
            --bg: #fff4fb; 
            --text: #ff69b4; 
            --accent: #ff9ad5; 
        }

        #printable-card.theme-elegant { 
            --bg: #f7f3e9; 
            --text: #5a4634; 
            --accent: #c6a667; 
        }

        .photo-container { 
            display: flex; 
            gap: 15px; 
            width: 100%; 
            height: 200px; 
            margin: 20px 0; 
        }

        .photo-box { 
            flex: 1; 
            border-radius: 12px; 
            overflow: hidden; 
            background: #1f1f1f; 
            border: 1px solid rgba(0,0,0,0.1); 
        }

        .photo-box img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            display: none; 
        }

        #names-line { 
            color: var(--accent); 
            font-weight: bold; 
            margin-top: 5px; 
        }

        #card-text { 
            margin-top: 25px; 
            font-size: 1.2rem; 
            font-style: italic; 
            color: inherit; 
            line-height: 1.4; 
        }
        
        .pulse-heart { 
            animation: pulse 1.5s infinite; 
            margin-top: 20px; 
            font-size: 1.5rem; 
        }

        @keyframes pulse { 
            0% { transform: scale(1); } 
            50% { transform: scale(1.2); } 
            100% { transform: scale(1); } 
        }

        .btn-container { 
            display: flex; 
            gap: 10px; 
            margin-top: 20px; 
        }

        .btn-print {
            background: var(--accent);
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
            font-size: 0.9rem;
        }

        .btn-print:hover { 
            transform: translateY(-2px); 
            filter: brightness(1.1); 
        }

        @media print {
            .config-panel, .btn-container, #site-header { 
                display: none !important; 
            }
            body { 
                background: white; 
                padding: 0; 
            }
            #printable-card { 
                box-shadow: none; 
                border: 1px solid #ddd; 
                margin: 20px auto; 
            }
        }
    </style>
</head>
<body>

    <div id="site-header">
        <h1>üíå Creator FelicitƒÉri</h1>
        <p class="promo-text">Un proiect ArtMera - Cadouri unice gravate manual »ôi prin tehnologie CNC.</p>
        <a class="promo-link" href="https://artmera.wordpress.com/ro-sculptura-in-lemn/" target="_blank">Vezi Site-ul Nostru</a>
    </div>

    <div class="config-panel">
        <div class="input-group">
            <label>Pozele Voastre:</label>
            <input type="file" onchange="preview(this, 'img-him')" accept="image/*" style="margin-bottom: 5px;">
            <input type="file" onchange="preview(this, 'img-her')" accept="image/*">
        </div>
        
        <div class="input-group">
            <label>Nume:</label>
            <input type="text" id="name-him" placeholder="Numele Lui" onkeyup="updateNames()" style="margin-bottom: 5px;">
            <input type="text" id="name-her" placeholder="Numele Ei" onkeyup="updateNames()">
        </div>

        <div class="input-group">
            <label>Mesaj Romantic:</label>
            <div class="select-wrapper">
                <span class="select-icon">‚ù§Ô∏è</span>
                <select id="auto-messages" onchange="setAutoMessage()">
                    <option value="">‚Äî Mesaje Sugerate ‚Äî</option>
                                        <option value="">‚Äî Alege un mesaj ‚Äî</option>
                    <option value="Te iubesc mai mult dec√¢t pot spune √Æn cuvinte.">Te iubesc mai mult dec√¢t pot spune √Æn cuvinte.</option>
                    <option value="L√¢ngƒÉ tine, fiecare zi devine specialƒÉ.">L√¢ngƒÉ tine, fiecare zi devine specialƒÉ.</option>
                    <option value="E»ôti motivul pentru care z√¢mbesc √Æn fiecare diminea»õƒÉ.">E»ôti motivul pentru care z√¢mbesc √Æn fiecare diminea»õƒÉ.</option>
                    <option value="Inima mea te-a ales pe tine »ôi nu gre»ôe»ôte niciodatƒÉ.">Inima mea te-a ales pe tine »ôi nu gre»ôe»ôte niciodatƒÉ.</option>
                    <option value="Cu tine, iubirea are sens »ôi direc»õie.">Cu tine, iubirea are sens »ôi direc»õie.</option>
                    <option value="E»ôti persoana mea preferatƒÉ din tot universul.">E»ôti persoana mea preferatƒÉ din tot universul.</option>
                    <option value="√é»õi mul»õumesc cƒÉ exi»ôti »ôi cƒÉ e»ôti a mea.">√é»õi mul»õumesc cƒÉ exi»ôti »ôi cƒÉ e»ôti a mea.</option>
                    <option value="L√¢ngƒÉ tine mƒÉ simt acasƒÉ, oriunde am fi.">L√¢ngƒÉ tine mƒÉ simt acasƒÉ, oriunde am fi.</option>
                    <option value="Dragostea ta √Æmi face sufletul mai bun.">Dragostea ta √Æmi face sufletul mai bun.</option>
                    <option value="Tu e»ôti √Ænceputul »ôi sf√¢r»ôitul fiecƒÉrei dorin»õe din inima mea.">Tu e»ôti √Ænceputul »ôi sf√¢r»ôitul fiecƒÉrei dorin»õe din inima mea.</option>
                </select>
            </div>
            <input type="text" id="text-input" placeholder="Sau scrie mesajul tƒÉu..." onkeyup="updateText()">
        </div>

        <div class="input-group">
            <label>Stil & Font:</label>
            <select id="theme-select" onchange="changeTheme()" style="margin-bottom: 5px;">
                <option value="dark">Dark Modern</option>
                <option value="romantic">Romantic ‚ù§Ô∏è</option>
                <option value="cute">Cute üå∏</option>
                <option value="elegant">Elegant ‚ú®</option>
            </select>
            <select id="font-select" onchange="changeFont()">
                <option value="'Dancing Script', cursive">Dancing Script</option>
                <option value="'Great Vibes', cursive">Great Vibes</option>
                <option value="'Parisienne', cursive">Parisienne</option>
                <option value="'Poppins', sans-serif">Modern Minimalist</option>
            </select>
        </div>
    </div>

    <div id="printable-card">
        <div id="intro-text" style="font-size: 1.2rem; font-weight: bold; color: var(--pink);">Suntem noi...</div>
        <div id="names-line">El ‚ù§Ô∏è Ea</div>
        
        <div class="photo-container">
            <div class="photo-box"><img id="img-him"></div>
            <div class="photo-box"><img id="img-her"></div>
        </div>

        <div id="card-text">Alege un mesaj mai sus...</div>
        <div class="pulse-heart">‚ù§Ô∏è</div>
    </div>

    <div class="btn-container">
        <button class="btn-print" onclick="saveAsImage()">DescarcƒÉ PNG</button>
        <button class="btn-print" onclick="if(checkPhotos()) window.print()">PrinteazƒÉ / PDF</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script>
        function preview(input, targetId) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = e => {
                    const img = document.getElementById(targetId);
                    img.src = e.target.result;
                    img.style.display = 'block';
                }
                reader.readAsDataURL(file);
            }
        }

        function updateNames() {
            const him = document.getElementById("name-him").value || "El";
            const her = document.getElementById("name-her").value || "Ea";
            document.getElementById("names-line").innerText = him + " ‚ù§Ô∏è " + her;
        }

        function updateText() {
            const val = document.getElementById('text-input').value;
            document.getElementById('card-text').innerText = val || "Alege un mesaj mai sus...";
        }

        function setAutoMessage() {
            const msg = document.getElementById("auto-messages").value;
            if (msg) {
                document.getElementById("text-input").value = msg;
                updateText();
            }
        }

        function changeTheme() {
            const theme = document.getElementById("theme-select").value;
            const card = document.getElementById("printable-card");
            card.className = "theme-" + theme;
        }

        function changeFont() {
            const font = document.getElementById("font-select").value;
            const card = document.getElementById("printable-card");
            const intro = document.getElementById("intro-text");
            const names = document.getElementById("names-line");
            
            card.style.fontFamily = font;
            
            if (font.includes("Dancing") || font.includes("Great") || font.includes("Parisienne")) {
                card.style.fontSize = "1.3rem";
                if (intro) intro.style.color = "var(--accent)";
                if (names) names.style.fontFamily = font;
            } else {
                card.style.fontSize = "1.1rem";
                if (intro) intro.style.color = "var(--pink)";
                if (names) names.style.fontFamily = "inherit";
            }
        }

        function checkPhotos() {
            const him = document.getElementById("img-him").getAttribute('src');
            const her = document.getElementById("img-her").getAttribute('src');
            if (!him || !her) {
                alert("‚ö†Ô∏è Te rog √ÆncarcƒÉ ambele poze!");
                return false;
            }
            return true;
        }

        function saveAsImage() {
            if (!checkPhotos()) return;
            const card = document.getElementById("printable-card");
            html2canvas(card, { scale: 3, useCORS: true, backgroundColor: null }).then(canvas => {
                const link = document.createElement("a");
                link.download = "felicitare-artmera.png";
                link.href = canvas.toDataURL("image/png");
                link.click();
            });
        }
    </script>
</body>
</html>
